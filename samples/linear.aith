inline dup = Λ<b : %type %meta> {
	λ!(x : b) =>
	Λ<r : %type %meta> =>
	λ(f : !b -> !b -> r) =>
	f(!x)(!x)
};

inline main = Λ<a : %type %meta> {
	Λ<b : %type %meta> =>

	λ(f : a -> !b) =>
	λ(x : a) =>

	dup<b>(f(x))
};


function wasteful = <a> when(%copy a) (a)(x : a, y : a){
	x
};

function ignoreFPtr = <a> (a)(x : a, f : a(*)(a)){
	x
};

function useWasteful = <a> (a(*)(a)) (xf : a(*)(a), yf: a(*)(a)) {
	wasteful<a(*)(a)>?(*)(xf, yf)
};
