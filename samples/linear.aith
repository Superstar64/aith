module:

inline dup = `\b : %type %meta {
	\!(x : b) =>
	`\r : %type %meta =>
	\(f : !b -> !b -> r) =>
	f(!x)(!x)
};

inline main = `\a : %type %meta {
	`\b : %type %meta =>

	\(f : a -> !b) =>
	\(x : a) =>

	dup`(b)(f(x))
};


function wasteful = `\a when(%copy a) (x : a, y : a){
	x
};

function ignoreFPtr = `\a (x : a, f : a(*)(a)){
	x
};

function useWasteful = `\a (xf : a(*)(a), yf: a(*)(a)) {
	wasteful`(a(*)(a))?(*)(xf, yf)
};
