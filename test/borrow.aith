increment(p :: unique int*) :: unique int* {
    let (x,p) = borrow {p} {
        <A : region> \(p :* int* @ A in false) -> {
            *p = (*p + 1)
        }
    };
    p
}

inline borrow<
    A:region,
    C:region,
    M:boxed,
    J:*representation,
    K:multiplicity,
    N:pretype<J, K>
> = \(x : unique M in A)
 -> \(f : <B:region> M @ B in false -* N in B | C) 
 -> {
    let x = cast x : M @ false in A;
    let e = (f) @_ {x};
    (e, cast x : unique M in A)
};
