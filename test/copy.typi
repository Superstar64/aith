void = (&&);

copy = (from,to) => {
	assert(from.length == to.length);
	index = new 0;
	while(*index < from.length) then {
		to&[*index] <- from[*index];
		index <- *index + 1;
	};
};

main : void -> void = () => {
	base = [(true,true),(true,false),(false,false)];
	target = new[3]((false,false));
	copy(base,target);
	assert(target == [(true,true),(true,false),(false,false)]);
};

assert : boolean -> void = extern "assert";
